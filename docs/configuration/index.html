
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../device_services/">
      
      
        <link rel="next" href="../notifications/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.12">
    
    
      
        <title>Configuration - Real Time Sensor Fusion for Loss Detection at Checkout</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.85bb2934.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#scale-device-service" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Real Time Sensor Fusion for Loss Detection at Checkout" class="md-header__button md-logo" aria-label="Real Time Sensor Fusion for Loss Detection at Checkout" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Real Time Sensor Fusion for Loss Detection at Checkout
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuration
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Real Time Sensor Fusion for Loss Detection at Checkout" class="md-nav__button md-logo" aria-label="Real Time Sensor Fusion for Loss Detection at Checkout" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Real Time Sensor Fusion for Loss Detection at Checkout
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Real Time Sensor Fusion for Loss Detection at Checkout Reference Design
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Phases
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Phases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../phases/phase1/" class="md-nav__link">
        Phase 1 - Simulate Events
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../phases/phase2/" class="md-nav__link">
        Phase 2 - Bring Your Own Software
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../phases/phase3/" class="md-nav__link">
        Phase 3 - Bring Your Own Hardware
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          RTSF at Checkout Events
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          RTSF at Checkout Events
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rtsf_at_checkout_events/checkout_events/" class="md-nav__link">
        Checkout events
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rtsf_at_checkout_events/event_simulation/" class="md-nav__link">
        Event simulation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../device_services/" class="md-nav__link">
        Device services
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Configuration
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#scale-device-service" class="md-nav__link">
    Scale Device Service
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#edgex-mqtt-device-service" class="md-nav__link">
    EdgeX MQTT Device Service
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#edgex-rest-device-service" class="md-nav__link">
    EdgeX REST Device Service
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cv-roi-service-video-analytics-pipeline-server" class="md-nav__link">
    CV ROI Service &amp; Video Analytics Pipeline Server
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#product-lookup" class="md-nav__link">
    Product Lookup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checkout-event-reconciler" class="md-nav__link">
    Checkout Event Reconciler
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loss-detector" class="md-nav__link">
    Loss Detector
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checkout-event-simulator" class="md-nav__link">
    Checkout Event Simulator
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../notifications/" class="md-nav__link">
        How to Send Notifications through EdgeX (optional)
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../references/" class="md-nav__link">
        References
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#scale-device-service" class="md-nav__link">
    Scale Device Service
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#edgex-mqtt-device-service" class="md-nav__link">
    EdgeX MQTT Device Service
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#edgex-rest-device-service" class="md-nav__link">
    EdgeX REST Device Service
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cv-roi-service-video-analytics-pipeline-server" class="md-nav__link">
    CV ROI Service &amp; Video Analytics Pipeline Server
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#product-lookup" class="md-nav__link">
    Product Lookup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checkout-event-reconciler" class="md-nav__link">
    Checkout Event Reconciler
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loss-detector" class="md-nav__link">
    Loss Detector
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checkout-event-simulator" class="md-nav__link">
    Checkout Event Simulator
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Configuration</h1>

<h2 id="scale-device-service">Scale Device Service</h2>
<p>The security scale used in this reference design is the <a href="http://www.cas-usa.com/products/pd-2">CAS PD-2 POS/Checkout Scale</a> which communicates over a serial connection. The vid:pid values of the scale are <code>VID = "0403"</code> and <code>PID = "6001"</code>. These values change depending on the model of scale you are using.  If you use a different scale, the logic to read and write to the scale will most likely be different. In this case, simply use this service as a reference for creating your custom Scale Device Service. </p>
<p>The following items can be configured via the <code>Driver</code> section of the service's <a href="https://github.com/intel-iot-devkit/rtsf-at-checkout-reference-design/blob/master/rtsf-at-checkout-device-scale/cmd/res/configuration.toml">configuration.toml</a> file. All values are strings.  </p>
<ul>
<li>ScaleVID - VID value for the scale</li>
<li>ScalePID - PID value for the scale</li>
<li>ScaleID - ID of the scale</li>
<li>LaneID - ID of the checkout lane the where the scale is being used</li>
<li>TimeOutMilli - Time out for when reading from the scale in milliseconds </li>
</ul>
<h2 id="edgex-mqtt-device-service">EdgeX MQTT Device Service</h2>
<p>This reference design uses the <a href="https://github.com/edgexfoundry/device-mqtt-go">MQTT Device Service</a> from EdgeX with custom device profiles. These device profiles YAML files are located at <a href="https://github.com/intel-iot-devkit/rtsf-at-checkout-reference-design/tree/master/loss-detection-app/res/device-mqtt/profiles">https://github.com/intel-iot-devkit/rtsf-at-checkout-reference-design/tree/master/loss-detection-app/res/device-mqtt/profiles</a> and are volume mounted into the device service's running Docker container.</p>
<h2 id="edgex-rest-device-service">EdgeX REST Device Service</h2>
<p>This reference design uses the <a href="https://github.com/edgexfoundry/device-rest-go">REST Device Service</a> from EdgeX Foundry with custom device profiles. These device profiles YAML files are located at <a href="https://github.com/intel-iot-devkit/rtsf-at-checkout-reference-design/rtsf-at-checkout-reference-design/tree/master/loss-detection-app/res/device-rest/profiles]">https://github.com/intel-iot-devkit/rtsf-at-checkout-reference-design/rtsf-at-checkout-reference-design/tree/master/loss-detection-app/res/device-rest/profiles</a> and are volume mounted into the device service's running Docker container.</p>
<h2 id="cv-roi-service-video-analytics-pipeline-server">CV ROI Service &amp; Video Analytics Pipeline Server</h2>
<p>CV consists of two components <code>pipeline-server</code> and <code>cv-region-of-interest</code>. <code>pipeline-server</code> runs and maintains the CV pipelines.  <code>cv-region-of-interest</code> configures the pipelines, collects the frame by frame CV data and generates the CV ROI Events to send to EdgeX. </p>
<p>To configure the VAP pipeline you need to set the following environment variables in the docker-compose file under <code>cv-region-of-interest</code>. All the values other than the MQTT_DESTINATION_HOST are in the form CAMERA{N} where N is the camera number starting with 0. </p>
<p>In the <code>docker-compose.vap.yml</code> file under the <code>environment</code> section of <code>cv-region-of-interest</code></p>
<ul>
<li>MQTT_DESTINATION_HOST - the destination of the MQTT broker, to use the MQTT broker running in the compose file simply just use <code>edgex-mqtt-broker:1883</code> </li>
<li>CAMERA{i}_ENDPOINT - the destination of the pipeline resource you wish to run the analytics on. Use <a href="http://pipeline-server:8080/">http://pipeline-server:8080</a> to hit the container running the VAP software then just add the route to the pipeline you are targeting. </li>
<li>CAMERA{i}_SRC - the path to the camera either RTSP or the Linux path to the camera resource </li>
<li>CAMERA{i}_ROI_NAME - the name of the ROI location this camera represents, this is a configurable parameter of the reconciler also and these ROI locations will need to match what is defined there as well. </li>
<li>CAMERA{i}_CROP_TBLR - the camera’s crop number of pixels to cut from the top, bottom, left, right. Try and crop the camera to just include the ROI of interest.</li>
<li>CAMERA{i}_FRAME_STORE - the storage for image frames</li>
</ul>
<p>Here is an example configuration for one camera </p>
<div class="codehilite"><pre><span></span><code><span class="nt">environment</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">no_proxy=pipeline-server,edgex-mqtt-broker</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MQTT_DESTINATION_HOST=edgex-mqtt-broker:1883</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CAMERA0_ENDPOINT=http://pipeline-server:8080/pipelines/product_detection/default</span>
<span class="w">   </span><span class="c1"># - CAMERA0_ENDPOINT=http://pipeline-server:8080/pipelines/product_detection/frame_store</span>
<span class="w">   </span><span class="c1"># Fill in camera source info below</span>
<span class="w">   </span><span class="c1"># for RTSP cameras</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CAMERA0_SRC=file:///home/pipeline-server/video-samples/EnterExitEvent_2second.mp4</span>
<span class="w">   </span><span class="c1"># or for USB cameras</span>
<span class="w">   </span><span class="c1"># - CAMERA0_SRC=/dev/video0</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CAMERA0_ROI_NAME=Staging</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CAMERA0_CROP_TBLR=0,0,0,0</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CAMERA0_FRAME_STORE=/tmp/my-frame-store</span>
</code></pre></div>

<p>For the <code>pipeline-server</code> service the following configuration is needed. Adding the device <code>/dev/dri:/dev/dri</code> which mounts the GPU is optional. </p>
<div class="codehilite"><pre><span></span><code><span class="nt">environment</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ENABLE_RTSP=true</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EMIT_SOURCE_AND_DESTINATION=true</span>
<span class="nt">devices</span><span class="p">:</span><span class="w"> </span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/dev/dri:/dev/dri</span><span class="w"> </span>
<span class="nt">volumes</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/tmp:/tmp</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./pipelines:/home/pipeline-server/pipelines</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./models:/home/pipeline-server/models</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./extensions:/home/pipeline-server/extensions</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./video-samples:/home/pipeline-server/video-samples</span>
</code></pre></div>

<p>For additional support see the Video Analytics Pipeline Server repo <a href="https://github.com/dlstreamer/pipeline-server">https://github.com/dlstreamer/pipeline-server</a>.  </p>
<h2 id="product-lookup">Product Lookup</h2>
<p>Product information values are stored in a JSON file. This inventory is used to lookup product information such as the product name, barcode, maximum and minimum weights and whether a product is RFID eligible.  </p>
<p>Example product lookup inventory is shown below:  </p>
<div class="codehilite"><pre><span></span><code><span class="p">[{</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;barcode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00022000008916&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Extra Peppermint Gum&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;min_weight&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.102</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;max_weight&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.109</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;rfid_eligible&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span>
<span class="p">},</span><span class="w"> </span>
<span class="p">{</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;barcode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00051700988235&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Finish Dishwasher Tablet&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;min_weight&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.610</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;max_weight&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.620</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;rfid_eligible&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span>
<span class="p">},</span><span class="w"> </span>
<span class="p">{</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;barcode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00012000163173&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Mountain Dew 6 Pack&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;min_weight&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">3.200</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;max_weight&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">3.255</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;rfid_eligible&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span>
<span class="p">},</span><span class="w"> </span>
<span class="p">{</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;barcode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00024000566670&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Canned Green Beans&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;min_weight&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.025</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;max_weight&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.050</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;rfid_eligible&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span>
<span class="p">}]</span>
</code></pre></div>

<h2 id="checkout-event-reconciler">Checkout Event Reconciler</h2>
<p>The following Checkout Event Reconciler service settings can be configured. All these settings are contained in the service’s <code>Reconciler</code> configuration section. All values are strings. </p>
<ul>
<li>
<p>DeviceNames - Comma separated list of device names that the service filters incoming data for. These correspond to the device names defined by the device services. </p>
</li>
<li>
<p>DevicePos - Name of the device that the POS events are received from. Must be one of the device names listed in DeviceNames above. </p>
</li>
<li>
<p>DeviceScale - Name of the device that the Scale events are received from. Must be one of the device names listed in DeviceNames above. </p>
</li>
<li>
<p>DeviceCV - Name of the device that the CV ROI events are received from. Must be one of the device names listed in DeviceNames above. </p>
</li>
<li>
<p>DeviceRFID - Name of the device that the RFID ROI events are received from. Must be one of the device names listed in DeviceNames above. </p>
</li>
<li>
<p>CvTimeAlignment - The time period between when a product was scanned at the POS and when it was seen by CV. This is to allow for lag between CV and the time of scan, items are reconciled only if they are within this time window, otherwise they will remain unreconciled. Values are in time duration format i.e. “5s” or “5ms” and negative values allow for an unlimited CV reconciliation window. </p>
</li>
<li>
<p>ProductLookupEndpoint - URL for the Product Lookup service </p>
</li>
<li>
<p>WebSocketPort - Port number for the WebSocket that the service write data. Useful for connecting UI to receive the reconciler data. </p>
</li>
<li>
<p>ScaleToScaleTolerance - Allowable difference in weight values from the scanner scale and the security (bagging) scale. Required when product quantity is a weight. Value is a fraction of LBS., I.e. “0.02” </p>
</li>
</ul>
<h2 id="loss-detector">Loss Detector</h2>
<p>The following Loss Detector service settings can be configured. All these settings are contained in the service’s <code>ApplicationSettings</code> configuration section. All values are strings. </p>
<ul>
<li>
<p>NotificationEmailAddresses - Comma separated list email addresses to send notifications </p>
</li>
<li>
<p>NotificationName - Unique identifier used to subscribe with the EdgeX Support Notifications Service to send notifications </p>
</li>
</ul>
<h2 id="checkout-event-simulator">Checkout Event Simulator</h2>
<p>The checkout event simulator configuration contains RESTful endpoints and MQTT endpoint to send the simulated data and MQTT topic.  These settings are contained in the <code>config.json</code> file. </p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;pos_endpoint&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://localhost:59986/api/v2/resource/pos-rest&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;scale_endpoint&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://localhost:59986/api/v2/resource/scale-rest&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;cv_roi_endpoint&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://localhost:59986/api/v2/resource/cv-roi-rest&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;rfid_roi_endpoint&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://localhost:59986/api/v2/resource/rfid-roi-rest&quot;</span>
<span class="p">}</span>
</code></pre></div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c2be25ad.min.js"></script>
      
        <script src="https://unpkg.com/lunr/lunr.js"></script>
      
    
  </body>
</html>